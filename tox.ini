[tox]
envlist = py{36,37,38,39,310,311},docs,coverage
minversion = 4.4

[testenv:py]
usedevelop = True
description =
    py{36,37,38,39,310,311}: Run unit tests against {envname}
passenv = TOXENV, CI, TRAVIS, TRAVIS_*, CODECOV*
extras = dev
deps = 
    -r requirements.txt
commands =
    pytest {posargs}

[testenv:coverage]
description =
    Run code coverage checks.
setenv =
    PYTEST_ADDOPTS = --cov ./highcharts_core --cov-config {toxinidir}/setup.cfg
allowlist_externals = codecov
commands =
    {[testenv]commands}

[testenv:docs]
description =
    Build documentation.
basepython = python
changedir = docs
extras = docs
commands =
    sphinx-build -nT -b dummy . _build/html